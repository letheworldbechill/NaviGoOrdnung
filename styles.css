:root{
  --cell:30px;
  --cell-settings:25px;
  --gap:2px;
  --accent:#007bff;
  --ok:#28a745;
  --fg:#111;
  --bg:#f0f0f0;
  --hdr:#333;
  --hdr-fg:#fff;
}
@media (max-width:600px){
  :root{ --cell:20px; --cell-settings:20px; }
}

* { box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  display:flex; flex-direction:column;
  color:var(--fg); background:var(--bg);
}

/* Header */
header{
  background:var(--hdr); color:var(--hdr-fg);
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 20px;
}
header h1{ margin:0; font-size:1.125rem }
.header-actions{ display:flex; gap:8px }

/* Buttons */
.btn{
  appearance:none; border:0; border-radius:6px;
  padding:8px 14px; cursor:pointer; font-size:1rem; line-height:1;
  background:#555; color:#fff;
  transition:filter .2s ease;
}
.btn:hover{ filter:brightness(1.1) }
.btn--primary{ background:var(--accent) }
.btn--success{ background:var(--ok) }

/* Layout */
main{ flex:1; display:flex; justify-content:center; align-items:center; overflow:auto; padding:10px }
#grid{ display:grid; gap:var(--gap) }

/* Cells */
.cell{
  width:var(--cell); height:var(--cell);
  border:1px solid #000; background:#fff; cursor:pointer;
  transition:background-color .2s ease;
  user-select:none;
}
.cell.active{ background:#fdd }
.cell.active.clean{ background:lightgreen }
.cell.inactive{ background:#fff; cursor:default }

/* Modal */
.modal{
  position:fixed; inset:0; display:none; place-items:center;
  background:rgba(0,0,0,.4); z-index:1000;
}
.modal[open]{ display:grid }
.dialog{
  background:#fff; width:min(800px,90vw); max-height:90vh; overflow:auto;
  border:1px solid #888; border-radius:10px; padding:16px 16px 20px;
}
.dialog-header{ display:flex; align-items:center; gap:8px }
.dialog h2{ margin:0 0 8px }
.close{
  margin-left:auto;
  background:transparent; color:#666;
  border:0; font-size:24px; cursor:pointer;
}

#settings-grid{ display:grid; gap:var(--gap); margin:12px 0 16px }
.s-cell{
  width:var(--cell-settings); height:var(--cell-settings);
  border:1px solid #000; background:#ccc; cursor:pointer;
  transition:background-color .2s ease; user-select:none;
}
.s-cell.active{ background:#333 }
.row{ display:flex; gap:8px; align-items:center; margin:6px 0 }
.row input[type="number"]{ width:6rem; padding:6px; border-radius:6px; border:1px solid #bbb }
.hint{ font-size:.9rem; color:#444 }
.dialog-actions{ display:flex; gap:8px; margin-top:12px }
